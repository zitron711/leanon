document.addEventListener("DOMContentLoaded", function () {
  const toggle = document.querySelector(".change-card-toggle");
  const dropdown = document.querySelector(".change-card-dropdown");
  const dropdownItems = document.querySelectorAll(".change-card-dropdown-list");

  // Toggle dropdown visibility
  toggle.addEventListener("click", () => {
    dropdown.classList.toggle("active");
  });

  // Handle item selection
  dropdownItems.forEach(item => {
    item.addEventListener("click", () => {
      const title = item.querySelector(".change-dropdown-title")?.textContent?.trim();
      if (title) {
        toggle.textContent = title;
      }

      // Highlight selected item
      dropdownItems.forEach(i => i.classList.remove("selected"));
      item.classList.add("selected");

      dropdown.classList.remove("active"); // Close dropdown
    });
  });

  // Close dropdown on outside click
  document.addEventListener("click", function (event) {
    if (!toggle.contains(event.target) && !dropdown.contains(event.target)) {
      dropdown.classList.remove("active");
    }
  });
});
