document.addEventListener('DOMContentLoaded', function () {
  const inputs = document.querySelectorAll('.spend-input');
  const resultFields = document.querySelectorAll('.result-value');
  const totalField = document.querySelector('.total-value');

  // Summary box references
  const totalBase = document.getElementById('total-base');
  const total125 = document.getElementById('total-125');
  const total150 = document.getElementById('total-150');
  const total175 = document.getElementById('total-175');

  function calculate() {
    let total = 0;
    let validInputCount = 0;

    inputs.forEach((input, index) => {
      const value = parseFloat(input.value);
      const percent = parseFloat(input.dataset.percent);

      if (!isNaN(value)) {
        const yearly = value * 12;
        const reward = (percent / 100) * yearly;
        resultFields[index].textContent = reward.toFixed(2);
        total += reward;
        validInputCount++;
      } else {
        resultFields[index].textContent = 'NA';
      }
    });

    const finalTotal = validInputCount === inputs.length ? total.toFixed(2) : 'NA';
    totalField.textContent = finalTotal;

    if (finalTotal !== 'NA') {
      const totalNum = parseFloat(finalTotal);
      totalBase.textContent = totalNum.toFixed(2);
      total125.textContent = (totalNum * 1.25).toFixed(2);
      total150.textContent = (totalNum * 1.5).toFixed(2);
      total175.textContent = (totalNum * 1.75).toFixed(2);
    } else {
      totalBase.textContent = 'NA';
      total125.textContent = 'NA';
      total150.textContent = 'NA';
      total175.textContent = 'NA';
    }
  }

  inputs.forEach(input => {
    input.addEventListener('input', calculate);
  });
});
