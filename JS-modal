<script>
  document.addEventListener('DOMContentLoaded', function () {
    const inputs = document.querySelectorAll('.monthly-spend');
    const totalCashbackEl = document.getElementById('total-cashback');

    function updateCashbacks() {
      let total = 0;

      inputs.forEach(input => {
        const row = input.closest('tr');
        const desc = row.querySelector('.reward-description');
        const cashbackEl = row.querySelector('.cashback');

        const inputVal = parseFloat(input.value) || 0;
        const rate = parseFloat(desc.dataset.calculation) || 0;
        const cashback = inputVal * rate;

        cashbackEl.textContent = `$${cashback.toFixed(2)}`;
        total += cashback;
      });

      totalCashbackEl.textContent = `$${total.toFixed(2)}`;
    }

    // Initial run to handle default values
    updateCashbacks();

    // Live update on input
    inputs.forEach(input => {
      input.addEventListener('input', updateCashbacks);
    });
  });
</script>
