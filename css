// üëá Your calculator function and class should already be defined above

// ‚úÖ Move calculator only when NOT in author mode
function initializeCardCalculatorOnLoad(): void {
  document.addEventListener('DOMContentLoaded', () => {
    const component = document.getElementById('card-calculator-main');

    if (!component) {
      console.warn('‚ùå Calculator component not found.');
      return;
    }

    const isAuthorMode = component.getAttribute('data-author-mode') === 'true';
    const modalBody = document.querySelector('#calculator-modal .modal-body');

    console.log({ isAuthorMode, modalBodyExists: !!modalBody });

    // ‚ùå Skip in author
    if (isAuthorMode) {
      console.log('üõë In author mode. Not moving calculator.');
      return;
    }

    if (modalBody && !modalBody.contains(component)) {
      modalBody.appendChild(component);
      console.log('‚úÖ Calculator moved into modal.');
      cardCalculator({ component });
    } else {
      console.warn('‚ùå Modal not found or already contains the calculator.');
    }
  });
}

// üëá Auto-run it
initializeCardCalculatorOnLoad();
