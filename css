function initializeCardCalculatorOnLoad(): void {
  document.addEventListener('DOMContentLoaded', () => {
    const component = document.getElementById('card-calculator-main');
    const modalBody = document.querySelector('#calculator-modal .modal-body');

    if (!component) {
      console.warn('‚ùå Calculator component not found.');
      return;
    }

    const isAuthorMode = component.getAttribute('data-author-mode') === 'true';

    console.log({
      isAuthorMode,
      modalBodyExists: !!modalBody,
      calculatorAlreadyMoved: modalBody?.contains(component),
    });

    if (isAuthorMode) {
      console.log('üõë In author mode ‚Äî skipping move.');
      return;
    }

    if (modalBody && !modalBody.contains(component)) {
      modalBody.appendChild(component);
      console.log('‚úÖ Calculator moved into modal.');
      cardCalculator({ component });
    } else {
      console.warn('‚ö†Ô∏è Modal not found or calculator already inside.');
    }
  });
}

initializeCardCalculatorOnLoad();
